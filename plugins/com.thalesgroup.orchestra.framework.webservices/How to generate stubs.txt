
                           How to generate stubs ?
                         
1 Status

   We have an API to expose variable manger related services. The interface of
   the API is basically described a WSDL file:
         /com.thalesgroup.orchestra.framework.webservices
           /baseResource
             /wsdl
               /VariableManager.wsdl
   We provide a generated implementation of this interface on Orchestra
   Framework "server"-side.
   And we also provide two generated clients of this API based on different
   technologies:
    - for java
    - for .Net
   Any modification of this WSDL file should result to a re-generation of the
   stubs generated:
    - java server-side
    - java client-side
    - .Net client-side
   This document explains how to generate stubs for the java technology.

2 Requirements

   In order to generate stubs for java, you need an IDE:
    - an eclipse platform
    - the WTP extension
    - the clearcase extension
   In that IDE, you need to import projects:
    - \papeete\Papeete\plugins\com.thalesgroup.orchestra.framework.webservices
    - \papeete\Papeete\plugins\com.thalesgroup.orchestra.framework.webservices.
      client
   In the first project you will find the generated server-side implementation
   in the generated source package. In the second project, you will find the
   generated client-side implementation in the generated source package.
   This tutorial is base on a 3.4 version of the platform and WTP 3.0.5.

3 Procedure

   1. Switch to the Java EE perspective which is the most appropriate to do the
      work.
   
3.1 Generate server-side stubs

   1. Open the '\com.thalesgroup.orchestra.framework.webservices project'.
   2. Right-click on the '/com.thalesgroup.orchestra.framework.webservices
      /baseResource/wsdl/VariableManager.wsdl' and open the new wizard.
    >>> The New wizard should be opened.
   3. Choose "Web Service", click next.
    >>> The "Web Service" page should be displayed.
   4. Choose "Web service type": "Top down Java bean Service".
   5. Move slider to reach the level "Develop service".
   6. Choose "Server": 'Tomcat v5.0 Server'
   7. Choose "Web service runtime": 'Apache Axis'
   8. Choose "Service project": 'WebServiceProject' which should be a 'Dynamic
      Web Project' and click "Next".
    >>> The WebServiceProject has been created and the page "Web Service
        Skeleton Java Bean Configuration" page should be displayed.
   9. Choose proposed "Skeleton Folder": "/WebServiceProject/src".
   10. Click "Next" and then, click "Finish".
    >>> Sources have been generated in the source folder.
   11. Fetch source code from "\WebServiceProject\src" to "\com.thalesgroup.
       orchestra.framework.webservices\generated". I usually use the package
       comparison tool to merge those changes. Be careful with the
       "VariableManagerSoapBindingImpl" which is not in the "generated" but in
       the "src" package because we customize this class. 
   12. Delete the WebServiceProject.
   
3.2 Generate client-side stubs

   1. Open the '\com.thalesgroup.orchestra.framework.webservices.client'
      project.
   2. Right-click on the '/com.thalesgroup.orchestra.framework.webservices
      /baseResource/wsdl/VariableManager.wsdl' and open the new wizard.
    >>> The New wizard should be opened.
   4. Choose "Web Service Client", click next.
    >>> The web service client page should be displayed.
   5. Move slider to reach the level "Develop client".
   6. Choose "Server": 'Tomcat v5.0 Server'
   7. Choose "Web service runtime": 'Apache Axis'
   8. Choose "Client project": 'WebServiceProject' which should be a 'Dynamic
      Web Project' and click "Next".
    >>> The WebServiceProject has been created and the page "Web Service
        Proxy Page" page should be displayed.
   9. Choose proposed "Output folder": "/WebServiceProject/src".
   10. Click "Finish".
    >>> Sources have been generated in the source folder.
   11. Fetch source code from "\WebServiceProject\src" to "\com.thalesgroup.
       orchestra.framework.webservices.client\generated". I usually use the
       package comparison tool to merge those changes.
   12. Delete the WebServiceProject.
